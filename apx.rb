# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Apx < Formula
  desc "CLI wrapper for platform-specific sandboxes"
  homepage "https://github.com/UsingCoding/apx"
  version "0.0.7"
  license "MIT"

  depends_on "go" => :build

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/UsingCoding/apx/releases/download/v0.0.7/apx_0.0.7_darwin_x86_64.tar.gz"
      sha256 "3e7bd98c8240c62a0be913188ae80bb765b8a816b4891bf8b401628719ff5bde"

      def install
        ldflags = %W[
          -s -w
          -X main.version=#{version}
          -X main.commit=homebrew
        ]
        system "go", "build", *std_go_args(ldflags: ldflags, output: bin/"apx"), "./cmd/apx"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/UsingCoding/apx/releases/download/v0.0.7/apx_0.0.7_darwin_arm64.tar.gz"
      sha256 "28b7351294cb2466cdb83b11db8547ab374f795116b3c34e43a5bf09ade94da9"

      def install
        ldflags = %W[
          -s -w
          -X main.version=#{version}
          -X main.commit=homebrew
        ]
        system "go", "build", *std_go_args(ldflags: ldflags, output: bin/"apx"), "./cmd/apx"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/UsingCoding/apx/releases/download/v0.0.7/apx_0.0.7_linux_x86_64.tar.gz"
      sha256 "9393f08a2902f6608b0f26c9569ed6881cf9f80461c06caee910a12fb429d6d0"
      def install
        ldflags = %W[
          -s -w
          -X main.version=#{version}
          -X main.commit=homebrew
        ]
        system "go", "build", *std_go_args(ldflags: ldflags, output: bin/"apx"), "./cmd/apx"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/UsingCoding/apx/releases/download/v0.0.7/apx_0.0.7_linux_arm64.tar.gz"
      sha256 "5f2fc73e9a47a46a507a99982d5b79b6722568eeab4311e84a8f0a63741277a7"
      def install
        ldflags = %W[
          -s -w
          -X main.version=#{version}
          -X main.commit=homebrew
        ]
        system "go", "build", *std_go_args(ldflags: ldflags, output: bin/"apx"), "./cmd/apx"
      end
    end
  end
end
